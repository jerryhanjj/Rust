# 模块系统

- 包（Packages）： Cargo 的一个功能，它允许你构建、测试和分享 crate
- Crates ：一个模块的树形结构，它形成了库或二进制项目
- 模块（Modules）和 use： 允许你控制作用域和路径的私有性
- 路径（path）：一个命名例如结构体、函数或模块等项的方式

## 包和crate

- `crate` 是一个二进制项或者库
- `crate` 根文件（src/lib.rs、src/main.rs）将由 `Cargo` 传递给 `rustc` 来实际构建库或者二进制项目

## 模块

    模块 让我们可以将一个 crate 中的代码进行分组，以提高可读性与重用性。
    因为一个模块中的代码默认是私有的，所以还可以利用模块控制项的私有性。私有项是不可为外部使用的内在详细实现。
    我们也可以将模块和它其中的项标记为公开的，这样，外部代码就可以使用并依赖于它们。

模块路径方式：
- **绝对路径**（absolute path）是以 crate 根（root）开头的全路径；对于外部 crate 的代码，是以 crate 名开头的绝对路径，对于当前 crate 的代码，则以字面值 crate 开头。
- **相对路径**（relative path）从当前模块开始，以 self、super 或定义在当前模块中的标识符开头。
- **use关键字**，使用use将模块路径引入作用域

将枚举设为公有，则它的所有成员都将变为公有

## 二进制和库 crate 包的最佳实践
我们提到过包（package）可以同时包含一个 src/main.rs 二进制 crate 根和一个 src/lib.rs 库 crate 根，并且这两个 crate 默认以包名来命名。

通常，这种包含二进制 crate 和库 crate 的模式的包，在二进制 crate 中只保留足以生成一个可执行文件的代码，并由可执行文件调用库 crate 的代码。又因为库 crate 可以共享，这使得其它项目从包提供的大部分功能中受益。

模块树应该定义在 src/lib.rs 中。这样通过以包名开头的路径，公有项就可以在二进制 crate 中使用。二进制 crate 就变得同其它在该 crate 之外的、使用库 crate 的用户一样：二者都只能使用公有 API。这有助于你设计一个好的 API；你不仅仅是作者，也是用户！

## use 关键字
1. 使用 use 将函数引入作用域的习惯用法是将函数的父模块引入作用域，这样我们必须在调用函数时指定父模块，这样可以清晰地表明函数不是在本地定义的，同时使完整路径的重复度最小化。
2. 使用 use 引入结构体、枚举和其他项时，习惯是指定它们的完整路径



